supergraph:
  listen: "127.0.0.1:4000"
# This headers config below is for workshop development purposes only, use "Authorization: Bearer user-1" when testing the router in isolation locally. User id and role are hardcoded for the sake of the workshop.
# In this workshop, we will use a co-processor and JWT token to authenticate the user properly and properly configure the MCP server to use OAuth.
headers:
  all:
    request:
      - propagate:
          named: "Authorization"
      - insert:
          name: "userid"
          value: "user-1"
      - insert:
          name: "userrole"
          value: "Host"
include_subgraph_errors:
  all: true
coprocessor:
  url: https://airlock-auth-coprocessor-ed3c378ab968.herokuapp.com/
  router:
    request:
      headers: true
      context: all
  subgraph:
    all: 
      request:
        headers: true
        body: true
        context: all
authentication:
  router:
    jwt:
      jwks:
        - url: https://dev-4gnj48muikmjespc.us.auth0.com/.well-known/jwks.json
authorization:
  require_authentication: true
  directives:
    enabled: true
    reject_unauthorized: true # rejects all requests that are not authorized